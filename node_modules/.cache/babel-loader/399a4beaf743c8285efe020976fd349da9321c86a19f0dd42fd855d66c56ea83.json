{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';// Aggiungi useRef qui\nimport{Link}from'react-router-dom';// Importa le immagini\nimport immagine1 from'./immagini2/immagine1.jpg';import immagine2 from'./immagini2/immagine2.jpg';import immagine3 from'./immagini2/immagine3.jpg';import immagine4 from'./immagini2/immagine4.jpg';import immagine5 from'./immagini2/immagine5.jpg';// Definisci la variabile immagini come un array dei percorsi delle immagini importate\nimport{jsx as _jsx}from\"react/jsx-runtime\";const immagini=[immagine1,immagine2,immagine3,immagine4,immagine5];const Carosello=()=>{const caroselloRef=useRef(null);const[scrollY,setScrollY]=useState(0);const[caroselloStartY,setCaroselloStartY]=useState(null);useEffect(()=>{const handleScroll=()=>{const currentScrollY=window.scrollY;setScrollY(currentScrollY);// Imposta la posizione di inizio del carosello al primo scroll che lo rende visibile\nif(caroselloRef.current&&caroselloStartY===null){const caroselloRect=caroselloRef.current.getBoundingClientRect();if(caroselloRect.top<window.innerHeight){setCaroselloStartY(currentScrollY);}}};window.addEventListener('scroll',handleScroll);return()=>{window.removeEventListener('scroll',handleScroll);};},[caroselloStartY]);const calculatePosition=index=>{// Se caroselloStartY non è ancora stato impostato, mantieni le immagini fuori dalla viewport\nif(caroselloStartY===null)return window.innerWidth;// Calcola la posizione delle immagini basata sulla differenza tra scrollY e caroselloStartY\nconst scrollOffset=scrollY-caroselloStartY;const movementSpeed=8;// Regola la velocità di movimento delle immagini\nlet position=window.innerWidth-scrollOffset*movementSpeed-index*-50;// '100' è la distanza tra le immagini\n// Assicurati che le immagini non si muovano troppo a sinistra\nposition=Math.max(position,-window.innerWidth*(index+1));return position;};return/*#__PURE__*/_jsx(\"div\",{ref:caroselloRef,className:\"carousel-container\",children:immagini.map((src,index)=>/*#__PURE__*/_jsx(Link,{to:\"/dettaglio/\".concat(index),children:/*#__PURE__*/_jsx(\"img\",{src:src,alt:\"Immagine \".concat(index+1),style:{transform:\"translateX(\".concat(calculatePosition(index),\"px)\")},className:\"carosello-immagine\"})},index))});};export default Carosello;","map":{"version":3,"names":["React","useState","useEffect","useRef","Link","immagine1","immagine2","immagine3","immagine4","immagine5","jsx","_jsx","immagini","Carosello","caroselloRef","scrollY","setScrollY","caroselloStartY","setCaroselloStartY","handleScroll","currentScrollY","window","current","caroselloRect","getBoundingClientRect","top","innerHeight","addEventListener","removeEventListener","calculatePosition","index","innerWidth","scrollOffset","movementSpeed","position","Math","max","ref","className","children","map","src","to","concat","alt","style","transform"],"sources":["/Users/alessiocavatassi/Desktop/site/src/Carosello.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react'; // Aggiungi useRef qui\nimport { Link } from 'react-router-dom';\n\n// Importa le immagini\nimport immagine1 from './immagini2/immagine1.jpg';\nimport immagine2 from './immagini2/immagine2.jpg';\nimport immagine3 from './immagini2/immagine3.jpg';\nimport immagine4 from './immagini2/immagine4.jpg';\nimport immagine5 from './immagini2/immagine5.jpg';\n\n// Definisci la variabile immagini come un array dei percorsi delle immagini importate\nconst immagini = [immagine1, immagine2, immagine3, immagine4, immagine5];\n\n\nconst Carosello = () => {\n  const caroselloRef = useRef(null);\n  const [scrollY, setScrollY] = useState(0);\n  const [caroselloStartY, setCaroselloStartY] = useState(null);\n\n  useEffect(() => {\n    const handleScroll = () => {\n      const currentScrollY = window.scrollY;\n      setScrollY(currentScrollY);\n\n      // Imposta la posizione di inizio del carosello al primo scroll che lo rende visibile\n      if (caroselloRef.current && caroselloStartY === null) {\n        const caroselloRect = caroselloRef.current.getBoundingClientRect();\n        if (caroselloRect.top < window.innerHeight) {\n          setCaroselloStartY(currentScrollY);\n        }\n      }\n    };\n\n    window.addEventListener('scroll', handleScroll);\n\n    return () => {\n      window.removeEventListener('scroll', handleScroll);\n    };\n  }, [caroselloStartY]);\n\n  const calculatePosition = (index) => {\n    // Se caroselloStartY non è ancora stato impostato, mantieni le immagini fuori dalla viewport\n    if (caroselloStartY === null) return window.innerWidth;\n\n    // Calcola la posizione delle immagini basata sulla differenza tra scrollY e caroselloStartY\n    const scrollOffset = scrollY - caroselloStartY;\n    const movementSpeed = 8; // Regola la velocità di movimento delle immagini\n    let position = window.innerWidth - (scrollOffset * movementSpeed) - (index * -50); // '100' è la distanza tra le immagini\n\n    // Assicurati che le immagini non si muovano troppo a sinistra\n    position = Math.max(position, -window.innerWidth * (index + 1));\n\n    return position;\n  };\n\n  return (\n    <div ref={caroselloRef} className=\"carousel-container\">\n      {immagini.map((src, index) => (\n        <Link key={index} to={`/dettaglio/${index}`}>\n          <img\n            src={src}\n            alt={`Immagine ${index + 1}`}\n            style={{ transform: `translateX(${calculatePosition(index)}px)` }}\n            className=\"carosello-immagine\"\n          />\n        </Link>\n      ))}\n    </div>\n  );\n};\n\nexport default Carosello;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}